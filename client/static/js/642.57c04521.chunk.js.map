{"version":3,"file":"static/js/642.57c04521.chunk.js","mappings":"uOAyHA,UAhHmB,WAAO,IAADA,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACvBC,GAA4BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAjCI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GAChBI,GAAOC,EAAAA,EAAAA,MAAPD,GACRE,GAAsBC,EAAAA,EAAAA,MAAfC,GAAsCP,EAAAA,EAAAA,GAAAK,EAAA,GAA3B,GAClBG,GAA0DC,EAAAA,EAAAA,IACtD,OAAFN,QAAE,IAAFA,EAAAA,EAAM,GACN,CACEO,MAAOP,IAHGQ,EAAWH,EAAjBI,KAA8BC,EAAeL,EAA1BM,UAObC,GAAgBC,EAAAA,EAAAA,SAAiBC,EAAW,CACxDC,gBAAgB,IADVN,KAGFO,GAAWC,EAAAA,EAAAA,MAEXC,EAAuB,OAAXN,QAAW,IAAXA,GAAiB,QAAN3B,EAAX2B,EAAaH,YAAI,IAAAxB,OAAN,EAAXA,EAAmBkC,KAAI,SAACC,GAAI,IAAAC,EAAAC,EAAA,MAAM,CAClDC,MAAiB,QAAZF,EAAM,OAAJD,QAAI,IAAJA,OAAI,EAAJA,EAAMI,YAAI,IAAAH,EAAAA,EAAI,GACrBI,MAAgB,QAAXH,EAAM,OAAJF,QAAI,IAAJA,OAAI,EAAJA,EAAMM,WAAG,IAAAJ,EAAAA,EAAI,GACrB,KAEDK,EAAAA,EAAAA,YAAU,WAAO,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EACC,OAAXxB,QAAW,IAAXA,GAAiB,QAANoB,EAAXpB,EAAaC,YAAI,IAAAmB,GAAS,QAATC,EAAjBD,EAAmBK,eAAO,IAAAJ,GAA1BA,EAA4BH,KAC9B3B,EAAyC,QAAhC+B,EAAY,OAAXtB,QAAW,IAAXA,GAAiB,QAANuB,EAAXvB,EAAaC,YAAI,IAAAsB,GAAS,QAATC,EAAjBD,EAAmBE,eAAO,IAAAD,OAAf,EAAXA,EAA4BN,WAAG,IAAAI,EAAAA,EAAI,GACjD,GAAG,CAAY,OAAXtB,QAAW,IAAXA,GAAiB,QAANtB,EAAXsB,EAAaC,YAAI,IAAAvB,GAAS,QAATC,EAAjBD,EAAmB+C,eAAO,IAAA9C,OAAf,EAAXA,EAA4BuC,MAEhC,IAAMQ,EAAY,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEXxC,EAAY,CAChBJ,GAAM,OAAFA,QAAE,IAAFA,EAAAA,EAAM,GACVS,KAAM,CACJX,OAAAA,KAED+C,SAAS,KAAD,EACXC,EAAAA,EAAOC,KAAK,CACVC,MAAO,UACPC,KAAM,6BACNC,KAAM,YAERlC,GAAU,GAAG0B,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAS,GAAAT,EAAA,SAEbI,EAAAA,EAAOC,KAAK,CACVC,MAAO,QACPC,MAAM,OAAAP,EAAAS,SAAA,IAAAT,EAAAS,IAAW,QAAXX,EAAAE,EAAAS,GAAO1C,YAAI,IAAA+B,OAAX,EAAAA,EAAaY,UAAW,uBAC9BF,KAAM,UACL,yBAAAR,EAAAW,OAAA,GAAAd,EAAA,kBAEN,kBArBiB,OAAAJ,EAAAmB,MAAA,KAAAC,UAAA,KAuBlB,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,qEAAoEC,SAAC,iBAInFF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BC,SAAA,EACvCC,EAAAA,EAAAA,KAACC,EAAAA,GAAK,CAACC,QAAQ,OAAMH,SAAC,UACtBC,EAAAA,EAAAA,KAACG,EAAAA,GAAS,CACRrC,MAAK,GAAAsC,OAAkC,QAAlC3E,EAAgB,OAAXoB,QAAW,IAAXA,GAAiB,QAANnB,EAAXmB,EAAaC,YAAI,IAAApB,OAAN,EAAXA,EAAmB2E,kBAAU,IAAA5E,EAAAA,EAAI,GAAE,KAAA2E,OACf,QADezE,EAChC,OAAXkB,QAAW,IAAXA,GAAiB,QAANjB,EAAXiB,EAAaC,YAAI,IAAAlB,OAAN,EAAXA,EAAmB0E,iBAAS,IAAA3E,EAAAA,EAAI,IAElCU,GAAG,OACHkE,YAAY,aACZC,KAAK,OACLC,UAAQ,QAIZZ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BC,SAAA,EACvCC,EAAAA,EAAAA,KAACC,EAAAA,GAAK,CAACC,QAAQ,QAAOH,SAAC,WACvBC,EAAAA,EAAAA,KAACG,EAAAA,GAAS,CACRrC,MAA+B,QAA1BjC,EAAa,OAAXgB,QAAW,IAAXA,GAAiB,QAANf,EAAXe,EAAaC,YAAI,IAAAhB,OAAN,EAAXA,EAAmB4E,aAAK,IAAA7E,EAAAA,EAAI,GACnCQ,GAAG,QACHkE,YAAY,cACZC,KAAK,QACLC,UAAQ,WAKdZ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BC,SAAA,EACvCC,EAAAA,EAAAA,KAACC,EAAAA,GAAK,CAACC,QAAQ,UAASH,SAAC,eACzBF,EAAAA,EAAAA,MAACc,EAAAA,GAAM,CACLC,SAAU,SAACC,GAAC,OAAKzE,EAAUyE,EAAEC,OAAOhD,MAAM,EAC1CA,MAAO3B,EACPE,GAAG,UAAS0D,SAAA,EAEZC,EAAAA,EAAAA,KAAA,UAAQlC,MAAM,GAAEiC,SAAC,gBACP,OAATxC,QAAS,IAATA,OAAS,EAATA,EAAWC,KAAI,SAACC,GAAI,OACnBuC,EAAAA,EAAAA,KAAA,UAAyBlC,MAAOL,EAAKK,MAAMiC,SACxCtC,EAAKG,OADKH,EAAKK,MAET,WAKfkC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,aAAYC,UACzBC,EAAAA,EAAAA,KAACe,EAAAA,GAAM,CACLC,QAASzC,EACTuB,UAAU,uDACVW,UAAWtE,IAAWE,EAAG0D,SAC1B,mBAKHC,EAAAA,EAAAA,KAACiB,EAAAA,EAAM,CAACjE,UAAWD,MAGzB,C,yLC1GamE,EAAeC,EAAAA,EAASC,gBAAgB,CACnDC,UAAW,SAACC,GAAO,MAAM,CACvBC,WAAYD,EAAQE,SAA0C,CAC5DC,MAAO,SAACC,GAAI,MAAM,CAChBC,IAAK,SACLC,OAAQ,OACRF,KAAAA,EACD,EACDG,gBAAiB,CAAC,WAEpBC,SAAUR,EAAQG,MAAwB,CACxCA,MAAO,iBAAO,CACZE,IAAK,SACLC,OAAQ,MACT,EACDG,aAAc,CAAC,WAEjBC,YAAaV,EAAQG,MAA+B,CAClDA,MAAO,SAACpF,GAAE,MAAM,CACdsF,IAAI,UAADvB,OAAY/D,GACfuF,OAAQ,MACT,EACDG,aAAc,CAAC,WAEjBE,WAAYX,EAAQE,SAA0C,CAC5DC,MAAO,SAAAjD,GAAA,IAAGnC,EAAEmC,EAAFnC,GAAOqF,GAAIQ,EAAAA,EAAAA,GAAA1D,EAAA2D,GAAA,MAAQ,CAC3BR,IAAI,UAADvB,OAAY/D,GACfuF,OAAQ,MACRF,KAAAA,EACD,EACDG,gBAAiB,CAAC,WAEpBO,WAAYd,EAAQE,SAA8C,CAChEC,MAAO,SAACpF,GAAE,MAAM,CACdsF,IAAI,UAADvB,OAAY/D,GACfuF,OAAQ,SACT,EACDC,gBAAiB,CAAC,WAErB,IAIDQ,EAKEnB,EALFmB,sBACAnF,EAIEgE,EAJFhE,iBACAoF,EAGEpB,EAHFoB,oBACAC,EAEErB,EAFFqB,sBACAC,EACEtB,EADFsB,qB","sources":["screens/users/assign-team.tsx","store/apis/team/index.ts"],"sourcesContent":["import { Label, TextInput, Select, Button } from \"flowbite-react\";\nimport Loader from \"components/Loader\";\nimport { useGetTeamsQuery } from \"store/apis/team\";\nimport { useNavigate } from \"react-router\";\nimport { useParams } from \"react-router-dom\";\nimport { useAssignTeamMutation, useGetAUserQuery } from \"store/apis/auth\";\nimport { useEffect, useState } from \"react\";\nimport MySwal from \"components/MySwal\";\n\nconst AssignTeam = () => {\n  const [teamId, setTeamId] = useState(\"\");\n  const { id } = useParams();\n  const [assignEvent] = useAssignTeamMutation();\n  const { data: getAUserRes, isLoading: getAUserLoading } = useGetAUserQuery(\n    id ?? \"\",\n    {\n      skip: !id,\n    }\n  );\n\n  const { data: getTeamsRes } = useGetTeamsQuery(undefined, {\n    refetchOnFocus: true,\n  });\n  const navigate = useNavigate();\n\n  const teamArray = getTeamsRes?.data?.map((team) => ({\n    label: team?.name ?? \"\",\n    value: team?._id ?? \"\",\n  }));\n\n  useEffect(() => {\n    if (getAUserRes?.data?.team_id?._id)\n      setTeamId(getAUserRes?.data?.team_id?._id ?? \"\");\n  }, [getAUserRes?.data?.team_id?._id]);\n\n  const handleSubmit = async () => {\n    try {\n      await assignEvent({\n        id: id ?? \"\",\n        data: {\n          teamId,\n        },\n      }).unwrap();\n      MySwal.fire({\n        title: \"Success\",\n        text: \"Team assigned successfully\",\n        icon: \"success\",\n      });\n      navigate(-1);\n    } catch (error: any) {\n      MySwal.fire({\n        title: \"Error\",\n        text: error?.data?.message || \"Something went wrong\",\n        icon: \"error\",\n      });\n    }\n  };\n\n  return (\n    <div className=\"grid gap-4\">\n      <h2 className=\"text-2xl font-semibold leading-tight text-gray-800 dark:text-white\">\n        Assign Team\n      </h2>\n\n      <div>\n        <div className=\"mb-4 flex flex-col gap-4\">\n          <Label htmlFor=\"name\">Name</Label>\n          <TextInput\n            value={`${getAUserRes?.data?.first_name ?? \"\"} ${\n              getAUserRes?.data?.last_name ?? \"\"\n            }`}\n            id=\"name\"\n            placeholder=\"Enter name\"\n            type=\"name\"\n            disabled\n          />\n        </div>\n\n        <div className=\"mb-4 flex flex-col gap-4\">\n          <Label htmlFor=\"email\">Email</Label>\n          <TextInput\n            value={getAUserRes?.data?.email ?? \"\"}\n            id=\"email\"\n            placeholder=\"Enter email\"\n            type=\"email\"\n            disabled\n          />\n        </div>\n      </div>\n\n      <div className=\"mb-4 flex flex-col gap-4\">\n        <Label htmlFor=\"team_id\">Team Name</Label>\n        <Select\n          onChange={(e) => setTeamId(e.target.value)}\n          value={teamId}\n          id=\"team_id\"\n        >\n          <option value=\"\">Select team</option>\n          {teamArray?.map((team) => (\n            <option key={team.value} value={team.value}>\n              {team.label}\n            </option>\n          ))}\n        </Select>\n      </div>\n\n      <div className=\"mb-6 mt-20\">\n        <Button\n          onClick={handleSubmit}\n          className=\"w-full lg:w-auto bg-primary-900 hover:bg-primary-700\"\n          disabled={!teamId || !id}\n        >\n          Assign Team\n        </Button>\n      </div>\n\n      <Loader isLoading={getAUserLoading} />\n    </div>\n  );\n};\n\nexport default AssignTeam;\n","import {\n  ICreateTeamRes,\n  TDeleteTeamArg,\n  IDeleteTeamResponse,\n  ITeamData,\n  ITeamsData,\n  IUpdateTeamArgs,\n  IUpdateTeamRes,\n  TCreateTeamArgs,\n  TTeamDataArg,\n} from \"types/team\";\nimport { apiSlice } from \"..\";\n\nexport const teamApiSlice = apiSlice.injectEndpoints({\n  endpoints: (builder) => ({\n    createTeam: builder.mutation<ICreateTeamRes, TCreateTeamArgs>({\n      query: (body) => ({\n        url: \"/teams\",\n        method: \"POST\",\n        body,\n      }),\n      invalidatesTags: [\"teams\"],\n    }),\n    getTeams: builder.query<ITeamsData, void>({\n      query: () => ({\n        url: \"/teams\",\n        method: \"GET\",\n      }),\n      providesTags: [\"teams\"],\n    }),\n    getTeamById: builder.query<ITeamData, TTeamDataArg>({\n      query: (id) => ({\n        url: `/teams/${id}`,\n        method: \"GET\",\n      }),\n      providesTags: [\"teams\"],\n    }),\n    updateTeam: builder.mutation<IUpdateTeamRes, IUpdateTeamArgs>({\n      query: ({ id, ...body }) => ({\n        url: `/teams/${id}`,\n        method: \"PUT\",\n        body,\n      }),\n      invalidatesTags: [\"teams\"],\n    }),\n    deleteTeam: builder.mutation<IDeleteTeamResponse, TDeleteTeamArg>({\n      query: (id) => ({\n        url: `/teams/${id}`,\n        method: \"DELETE\",\n      }),\n      invalidatesTags: [\"teams\"],\n    }),\n  }),\n});\n\nexport const {\n  useCreateTeamMutation,\n  useGetTeamsQuery,\n  useGetTeamByIdQuery,\n  useUpdateTeamMutation,\n  useDeleteTeamMutation,\n} = teamApiSlice;\n"],"names":["_getTeamsRes$data","_getAUserRes$data3","_getAUserRes$data3$te","_getAUserRes$data$fir","_getAUserRes$data4","_getAUserRes$data$las","_getAUserRes$data5","_getAUserRes$data$ema","_getAUserRes$data6","_useState","useState","_useState2","_slicedToArray","teamId","setTeamId","id","useParams","_useAssignTeamMutatio","useAssignTeamMutation","assignEvent","_useGetAUserQuery","useGetAUserQuery","skip","getAUserRes","data","getAUserLoading","isLoading","getTeamsRes","useGetTeamsQuery","undefined","refetchOnFocus","navigate","useNavigate","teamArray","map","team","_team$name","_team$_id","label","name","value","_id","useEffect","_getAUserRes$data","_getAUserRes$data$tea","_getAUserRes$data$tea2","_getAUserRes$data2","_getAUserRes$data2$te","team_id","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_error$data","wrap","_context","prev","next","unwrap","MySwal","fire","title","text","icon","t0","message","stop","apply","arguments","_jsxs","className","children","_jsx","Label","htmlFor","TextInput","concat","first_name","last_name","placeholder","type","disabled","email","Select","onChange","e","target","Button","onClick","Loader","teamApiSlice","apiSlice","injectEndpoints","endpoints","builder","createTeam","mutation","query","body","url","method","invalidatesTags","getTeams","providesTags","getTeamById","updateTeam","_objectWithoutProperties","_excluded","deleteTeam","useCreateTeamMutation","useGetTeamByIdQuery","useUpdateTeamMutation","useDeleteTeamMutation"],"sourceRoot":""}