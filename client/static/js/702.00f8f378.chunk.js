"use strict";(self.webpackChunktema_client=self.webpackChunktema_client||[]).push([[702],{702:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var r=t(4165),i=t(5861),a=t(9439),o=t(9515),u=t(7689),s=t(3513),d=t(4303),c=t(7258),l=t(3185),v=t(184),m=function(e){var n=e.row,t=(0,u.s0)(),s=(0,c.gV)(),l=(0,a.Z)(s,2),m=l[0],f=(l[1].isLoading,function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.Z.fire({title:"Are you sure?",text:"You will not be able to recover this event!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=6;break}return e.next=3,m(null===n||void 0===n?void 0:n._id).unwrap();case 3:d.Z.fire("Deleted!","Event has been deleted.","success"),e.next=7;break;case 6:t.dismiss===d.Z.DismissReason.cancel&&d.Z.fire("Cancelled","Event is safe :)","error");case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return(0,v.jsxs)("div",{className:"flex gap-2 justify-center items-center",children:[(0,v.jsx)(o.zx,{onClick:function(){return t("/dashboard/events/".concat(null===n||void 0===n?void 0:n._id))},className:"bg-primary-900 hover:bg-primary-700",children:"Edit"}),(0,v.jsx)(o.zx,{onClick:f,className:"bg-red-800 hover:bg-red-600",children:"Delete"})]})},f=[{name:"Name",selector:function(e){return(null===e||void 0===e?void 0:e.name)||""},width:"180px",wrap:!0},{name:"Team ID",selector:function(e){var n;return(null===e||void 0===e||null===(n=e.team_id)||void 0===n?void 0:n.name)||0},wrap:!0},{name:"Starting Date",selector:function(e){return(0,l.j)((null===e||void 0===e?void 0:e.starting_date)||"")},minWidth:"200px",wrap:!0},{name:"Ending Date",selector:function(e){return(0,l.j)((null===e||void 0===e?void 0:e.ending_date)||"")},minWidth:"200px",wrap:!0},{name:"Actions",cell:function(e){return(0,v.jsx)(m,{row:e})},width:"180px"}];function p(){var e,n=(0,c.kg)(),t=n.data,r=n.isLoading,i=(n.isError,(0,u.s0)());return(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"flex justify-end",children:(0,v.jsx)(o.zx,{onClick:function(){return i("/dashboard/events/create")},className:"bg-primary-900 hover:bg-primary-700",children:"Create Event"})}),(0,v.jsx)("div",{className:"mt-4",children:(0,v.jsx)(s.ZP,{columns:f,data:null!==(e=null===t||void 0===t?void 0:t.data)&&void 0!==e?e:[],progressPending:r,progressComponent:(0,v.jsx)("div",{className:"flex justify-center",children:(0,v.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-gray-900"})}),theme:"dark",pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[10,20,30],customStyles:{headCells:{style:{paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"1rem",paddingBottom:"1rem",backgroundColor:"#1F2937",color:"#fff",minHeight:"72px"}},cells:{style:{paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"1rem",paddingBottom:"1rem",minHeight:"80px"}}}})})]})}},7258:function(e,n,t){t.d(n,{g6:function(){return c},gV:function(){return l},in:function(){return d},kg:function(){return s},ru:function(){return u}});var r=t(4925),i=t(2901),a=["id"],o=i.g.injectEndpoints({endpoints:function(e){return{createEvent:e.mutation({query:function(e){return{url:"/events/create",method:"POST",body:e}},invalidatesTags:["events"]}),getEvents:e.query({query:function(){return{url:"/events/all",method:"GET"}},providesTags:["events"]}),getEventById:e.query({query:function(e){var n=e.id;return{url:"/events/single/".concat(n),method:"GET"}},providesTags:["singleEvent"]}),updateEvent:e.mutation({query:function(e){var n=e.id,t=(0,r.Z)(e,a);return{url:"/events/update/".concat(n),method:"PUT",body:t}},invalidatesTags:["events","singleEvent"]}),deleteEvent:e.mutation({query:function(e){return{url:"/events/remove/".concat(e),method:"DELETE"}},invalidatesTags:function(e,n,t){return[{type:"events"}]}})}}}),u=o.useCreateEventMutation,s=o.useGetEventsQuery,d=o.useGetEventByIdQuery,c=o.useUpdateEventMutation,l=o.useDeleteEventMutation},3185:function(e,n,t){t.d(n,{j:function(){return r}});var r=function(e){if(!e)return"";return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})}}}]);
//# sourceMappingURL=702.00f8f378.chunk.js.map