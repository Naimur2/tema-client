"use strict";(self.webpackChunktema_client=self.webpackChunktema_client||[]).push([[642],{5642:function(e,a,t){t.r(a);var n=t(4165),i=t(5861),l=t(9439),d=t(9515),u=t(7721),r=t(7075),o=t(7689),s=t(2113),c=t(2791),m=t(4303),v=t(184);a.default=function(){var e,a,t,f,h,x,p,g,T,y=(0,c.useState)(""),j=(0,l.Z)(y,2),_=j[0],b=j[1],E=(0,o.UO)().id,w=(0,s.Lh)(),k=(0,l.Z)(w,1)[0],N=(0,s.yL)(null!==E&&void 0!==E?E:"",{skip:!E}),Z=N.data,q=N.isLoading,S=(0,r.rS)(void 0,{refetchOnFocus:!0}).data,L=(0,o.s0)(),C=null===S||void 0===S||null===(e=S.data)||void 0===e?void 0:e.map((function(e){var a,t;return{label:null!==(a=null===e||void 0===e?void 0:e.name)&&void 0!==a?a:"",value:null!==(t=null===e||void 0===e?void 0:e._id)&&void 0!==t?t:""}}));(0,c.useEffect)((function(){var e,a,t,n,i;null!==Z&&void 0!==Z&&null!==(e=Z.data)&&void 0!==e&&null!==(a=e.team_id)&&void 0!==a&&a._id&&b(null!==(t=null===Z||void 0===Z||null===(n=Z.data)||void 0===n||null===(i=n.team_id)||void 0===i?void 0:i._id)&&void 0!==t?t:"")}),[null===Z||void 0===Z||null===(a=Z.data)||void 0===a||null===(t=a.team_id)||void 0===t?void 0:t._id]);var F=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k({id:null!==E&&void 0!==E?E:"",data:{teamId:_}}).unwrap();case 3:m.Z.fire({title:"Success",text:"Team assigned successfully",icon:"success"}),L(-1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),m.Z.fire({title:"Error",text:(null===e.t0||void 0===e.t0||null===(a=e.t0.data)||void 0===a?void 0:a.message)||"Something went wrong",icon:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:"grid gap-4",children:[(0,v.jsx)("h2",{className:"text-2xl font-semibold leading-tight text-gray-800 dark:text-white",children:"Assign Team"}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"mb-4 flex flex-col gap-4",children:[(0,v.jsx)(d.__,{htmlFor:"name",children:"Name"}),(0,v.jsx)(d.oi,{value:"".concat(null!==(f=null===Z||void 0===Z||null===(h=Z.data)||void 0===h?void 0:h.first_name)&&void 0!==f?f:""," ").concat(null!==(x=null===Z||void 0===Z||null===(p=Z.data)||void 0===p?void 0:p.last_name)&&void 0!==x?x:""),id:"name",placeholder:"Enter name",type:"name",disabled:!0})]}),(0,v.jsxs)("div",{className:"mb-4 flex flex-col gap-4",children:[(0,v.jsx)(d.__,{htmlFor:"email",children:"Email"}),(0,v.jsx)(d.oi,{value:null!==(g=null===Z||void 0===Z||null===(T=Z.data)||void 0===T?void 0:T.email)&&void 0!==g?g:"",id:"email",placeholder:"Enter email",type:"email",disabled:!0})]})]}),(0,v.jsxs)("div",{className:"mb-4 flex flex-col gap-4",children:[(0,v.jsx)(d.__,{htmlFor:"team_id",children:"Team Name"}),(0,v.jsxs)(d.Ph,{onChange:function(e){return b(e.target.value)},value:_,id:"team_id",children:[(0,v.jsx)("option",{value:"",children:"Select team"}),null===C||void 0===C?void 0:C.map((function(e){return(0,v.jsx)("option",{value:e.value,children:e.label},e.value)}))]})]}),(0,v.jsx)("div",{className:"mb-6 mt-20",children:(0,v.jsx)(d.zx,{onClick:F,className:"w-full lg:w-auto bg-primary-900 hover:bg-primary-700",disabled:!_||!E,children:"Assign Team"})}),(0,v.jsx)(u.Z,{isLoading:q})]})}},7075:function(e,a,t){t.d(a,{FL:function(){return o},ad:function(){return c},j9:function(){return s},mn:function(){return u},rS:function(){return r}});var n=t(4925),i=t(2901),l=["id"],d=i.g.injectEndpoints({endpoints:function(e){return{createTeam:e.mutation({query:function(e){return{url:"/teams",method:"POST",body:e}},invalidatesTags:["teams"]}),getTeams:e.query({query:function(){return{url:"/teams",method:"GET"}},providesTags:["teams"]}),getTeamById:e.query({query:function(e){return{url:"/teams/".concat(e),method:"GET"}},providesTags:["teams"]}),updateTeam:e.mutation({query:function(e){var a=e.id,t=(0,n.Z)(e,l);return{url:"/teams/".concat(a),method:"PUT",body:t}},invalidatesTags:["teams"]}),deleteTeam:e.mutation({query:function(e){return{url:"/teams/".concat(e),method:"DELETE"}},invalidatesTags:["teams"]})}}}),u=d.useCreateTeamMutation,r=d.useGetTeamsQuery,o=d.useGetTeamByIdQuery,s=d.useUpdateTeamMutation,c=d.useDeleteTeamMutation}}]);
//# sourceMappingURL=642.57c04521.chunk.js.map