/*! For license information please see 501.f1498c3c.chunk.js.LICENSE.txt */
(self.webpackChunktema_client=self.webpackChunktema_client||[]).push([[501],{1084:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(9439),i=n(9515),a=n(2791),s=n(184);function o(e){var t=e.children,n=e.trigger,o=e.title,l=(0,a.useState)(),c=(0,r.Z)(l,2),u=c[0],d=c[1];return console.log("type of children: ",typeof t),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{onClick:function(){return d("default")},children:n}),(0,s.jsxs)(i.u_,{show:"default"===u,onClose:function(){return d(void 0)},children:[(0,s.jsx)(i.u_.Header,{children:o}),(0,s.jsx)(i.u_.Body,{children:"function"===typeof t?t({openModal:u,setOpenModal:d}):t})]})]})}},3501:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var r=n(4165),i=n(5861),a=n(9439),s=n(7689),o=n(3513),l=n(2113),c=n(6355),u=n(1084),d=n(8820),f=n(7892),p=n.n(f),h=n(9515),m=n(6192),g=n(184),v=function(e){var t=e.row;return null!==t&&void 0!==t&&t.is_active?(0,g.jsx)(c.l_A,{className:"w-4 h-4",color:"green"}):!1===(null===t||void 0===t?void 0:t.is_active)?(0,g.jsx)(c.aHS,{className:"w-4 h-4",color:"red"}):(0,g.jsx)("span",{children:"N/A"})},y=function(e){var t=e.row;return(0,g.jsx)("div",{children:(0,g.jsxs)("div",{className:"grid gap-5 xl:grid-cols-2",children:[(0,g.jsxs)("div",{className:"flex gap-2 items-center text-gray-600 dark:text-gray-400",children:[(0,g.jsx)(m.Z,{className:"w-10 h-10 rounded-full",src:null===t||void 0===t?void 0:t.image_path,alt:null===t||void 0===t?void 0:t.first_name,fallbackImage:"/dummy-profile.jpg",initialImage:"/dummy-profile.jpg"}),(0,g.jsxs)("h5",{className:"",children:[(null===t||void 0===t?void 0:t.first_name)||""," ",(null===t||void 0===t?void 0:t.last_name)||""]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(h.__,{children:"User Name"}),(0,g.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:(null===t||void 0===t?void 0:t.username)||""})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(h.__,{children:"Email"}),(0,g.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:(null===t||void 0===t?void 0:t.email)||""})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(h.__,{children:"Mobile Number"}),(0,g.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:(null===t||void 0===t?void 0:t.mobile_number)||""})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(h.__,{children:"Shirt Size"}),(0,g.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:(null===t||void 0===t?void 0:t.shirt_size)||""})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(h.__,{children:"Arrival Date"}),(0,g.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:p()(null===t||void 0===t?void 0:t.arrival_date).format("YYYY-MM-DD")})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(h.__,{children:"Departure Date"}),(0,g.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:p()(null===t||void 0===t?void 0:t.departure_date).format("YYYY-MM-DD")})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(h.__,{children:"Bed Preference"}),(0,g.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:(null===t||void 0===t?void 0:t.bed_preference)||""})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(h.__,{children:"Dietary Restrictions"}),(0,g.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:(null===t||void 0===t?void 0:t.alargeDesc)||"N/A"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(h.__,{children:"Active"}),(0,g.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:(0,g.jsx)(v,{row:t})})]})]})})},x=n(4303),b=function(e){var t,n=e.row,o=(0,l.z3)(),f=(0,a.Z)(o,1)[0],p=(0,s.s0)(),h=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.Z.fire({title:"Are you sure?",text:"You will not be able to recover this user!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=6;break}return e.next=3,f(null!==(i=null===n||void 0===n?void 0:n._id)&&void 0!==i?i:"").unwrap();case 3:x.Z.fire("Deleted!","User has been deleted.","success"),e.next=7;break;case 6:t.dismiss===x.Z.DismissReason.cancel&&x.Z.fire("Cancelled","User is safe :)","error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,g.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,g.jsx)(u.Z,{title:"Detailed Row View For User: ".concat(null!==(t=null===n||void 0===n?void 0:n.username)&&void 0!==t?t:"N/A"),trigger:(0,g.jsx)(d.w8I,{className:"w-5 h-5 fill-white cursor-pointer mr-1"}),children:(0,g.jsx)(y,{row:n})}),(0,g.jsx)(c.KHI,{onClick:function(){p("/dashboard/assign-team/".concat(null===n||void 0===n?void 0:n._id))},className:"w-5 h-5 fill-white cursor-pointer mr-1"}),(0,g.jsx)(d.ql3,{onClick:h,className:"w-5 h-5 fill-white cursor-pointer mr-1"})]})},w=[{name:"Name",cell:function(e,t,n,r){return(0,g.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,g.jsx)(m.Z,{className:"w-10 h-10 rounded-full",src:null===e||void 0===e?void 0:e.image_path,alt:null===e||void 0===e?void 0:e.first_name,fallbackImage:"/dummy-profile.jpg",initialImage:"/dummy-profile.jpg"}),(0,g.jsxs)("h5",{className:"",children:[(null===e||void 0===e?void 0:e.first_name)||""," ",(null===e||void 0===e?void 0:e.last_name)||""]})]})},minWidth:"150px",wrap:!0},{name:"User Name",selector:function(e){return(null===e||void 0===e?void 0:e.username)||""},minWidth:"150px",wrap:!0},{name:"Email",selector:function(e){return(null===e||void 0===e?void 0:e.email)||""},minWidth:"200px",wrap:!0},{name:"Mobile Number",selector:function(e){return(null===e||void 0===e?void 0:e.mobile_number)||""},minWidth:"150px",wrap:!0},{name:"View More",cell:function(e){return(0,g.jsx)(b,{row:e})},width:"110px",wrap:!0}],_=function(){var e=(0,l.zQ)(void 0),t=e.data,n=e.isLoading;return(0,g.jsx)("div",{children:(0,g.jsx)("div",{className:"mt-4",children:(0,g.jsx)(o.ZP,{columns:w,data:(null===t||void 0===t?void 0:t.data)||[],progressPending:n,progressComponent:(0,g.jsx)("div",{className:"flex justify-center",children:(0,g.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-gray-900"})}),theme:"dark",pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[10,20,30],customStyles:{headCells:{style:{paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"1rem",paddingBottom:"1rem",backgroundColor:"#1F2937",color:"#fff",minHeight:"72px"}},cells:{style:{paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"1rem",paddingBottom:"1rem",minHeight:"80px"}}}})})})}},7892:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",a="minute",s="hour",o="day",l="week",c="month",u="quarter",d="year",f="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),a=n-i<0,s=t.clone().add(r+(a?-1:1),c);return+(-(r+(n-i)/(a?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:o,D:f,h:s,m:a,s:i,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},x="en",b={};b[x]=g;var w="$isDayjsObject",_=function(e){return e instanceof D||!(!e||!e[w])},$=function e(t,n,r){var i;if(!t)return x;if("string"==typeof t){var a=t.toLowerCase();b[a]&&(i=a),n&&(b[a]=n,i=a);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var o=t.name;b[o]=t,i=o}return!r&&i&&(x=i),i||!r&&x},j=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new D(n)},M=y;M.l=$,M.i=_,M.w=function(e,t){return j(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var D=function(){function g(e){this.$L=$(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(M.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(h);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return M},v.isValid=function(){return!(this.$d.toString()===p)},v.isSame=function(e,t){var n=j(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return j(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<j(e)},v.$g=function(e,t,n){return M.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!M.u(t)||t,u=M.p(e),p=function(e,t){var i=M.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(o)},h=function(e,t){return M.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return r?p(1,0):p(31,11);case c:return r?p(1,g):p(0,g+1);case l:var x=this.$locale().weekStart||0,b=(m<x?m+7:m)-x;return p(r?v-b:v+(6-b),g);case o:case f:return h(y+"Hours",0);case s:return h(y+"Minutes",1);case a:return h(y+"Seconds",2);case i:return h(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=M.p(e),u="set"+(this.$u?"UTC":""),p=(n={},n[o]=u+"Date",n[f]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[s]=u+"Hours",n[a]=u+"Minutes",n[i]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],h=l===o?this.$D+(t-this.$W):t;if(l===c||l===d){var m=this.clone().set(f,1);m.$d[p](h),m.init(),this.$d=m.set(f,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](h);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[M.p(e)]()},v.add=function(r,u){var f,p=this;r=Number(r);var h=M.p(u),m=function(e){var t=j(p);return M.w(t.date(t.date()+Math.round(e*r)),p)};if(h===c)return this.set(c,this.$M+r);if(h===d)return this.set(d,this.$y+r);if(h===o)return m(1);if(h===l)return m(7);var g=(f={},f[a]=t,f[s]=n,f[i]=e,f)[h]||1,v=this.$d.getTime()+r*g;return M.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=M.z(this),a=this.$H,s=this.$m,o=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,d=function(e,n,i,a){return e&&(e[n]||e(t,r))||i[n].slice(0,a)},f=function(e){return M.s(a%12||12,e,"0")},h=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return M.s(t.$y,4,"0");case"M":return o+1;case"MM":return M.s(o+1,2,"0");case"MMM":return d(n.monthsShort,o,c,3);case"MMMM":return d(c,o);case"D":return t.$D;case"DD":return M.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,l,2);case"ddd":return d(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(a);case"HH":return M.s(a,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return h(a,s,!0);case"A":return h(a,s,!1);case"m":return String(s);case"mm":return M.s(s,2,"0");case"s":return String(t.$s);case"ss":return M.s(t.$s,2,"0");case"SSS":return M.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,f,p){var h,m=this,g=M.p(f),v=j(r),y=(v.utcOffset()-this.utcOffset())*t,x=this-v,b=function(){return M.m(m,v)};switch(g){case d:h=b()/12;break;case c:h=b();break;case u:h=b()/3;break;case l:h=(x-y)/6048e5;break;case o:h=(x-y)/864e5;break;case s:h=x/n;break;case a:h=x/t;break;case i:h=x/e;break;default:h=x}return p?h:M.a(h)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return b[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=$(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return M.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),S=D.prototype;return j.prototype=S,[["$ms",r],["$s",i],["$m",a],["$H",s],["$W",o],["$M",c],["$y",d],["$D",f]].forEach((function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),j.extend=function(e,t){return e.$i||(e(t,D,j),e.$i=!0),j},j.locale=$,j.isDayjs=_,j.unix=function(e){return j(1e3*e)},j.en=b[x],j.Ls=b,j.p={},j}()},7178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&o(n)&&(t[n]=e[n]);return t};var r,i=n(8051),a=(r=i)&&r.__esModule?r:{default:r};var s={onCopy:!0,onCut:!0,onPaste:!0,onLoad:!0,onError:!0,onWheel:!0,onScroll:!0,onCompositionEnd:!0,onCompositionStart:!0,onCompositionUpdate:!0,onKeyDown:!0,onKeyPress:!0,onKeyUp:!0,onFocus:!0,onBlur:!0,onChange:!0,onInput:!0,onSubmit:!0,onClick:!0,onContextMenu:!0,onDoubleClick:!0,onDrag:!0,onDragEnd:!0,onDragEnter:!0,onDragExit:!0,onDragLeave:!0,onDragOver:!0,onDragStart:!0,onDrop:!0,onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOut:!0,onMouseOver:!0,onMouseUp:!0,onSelect:!0,onTouchCancel:!0,onTouchEnd:!0,onTouchMove:!0,onTouchStart:!0,onAnimationStart:!0,onAnimationEnd:!0,onAnimationIteration:!0,onTransitionEnd:!0};function o(e){return s[e]||a.default[e]}},8051:function(e){"use strict";e.exports={abbr:"abbr",accept:"accept",acceptCharset:"accept-charset",accessKey:"accesskey",action:"action",allowFullScreen:"allowfullscreen",allowTransparency:"allowtransparency",alt:"alt",async:"async",autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",cellPadding:"cellpadding",cellSpacing:"cellspacing",challenge:"challenge",charset:"charset",checked:"checked",cite:"cite",class:"class",className:"class",cols:"cols",colSpan:"colspan",command:"command",content:"content",contentEditable:"contenteditable",contextMenu:"contextmenu",controls:"controls",coords:"coords",crossOrigin:"crossorigin",data:"data",dateTime:"datetime",default:"default",defer:"defer",dir:"dir",disabled:"disabled",download:"download",draggable:"draggable",dropzone:"dropzone",encType:"enctype",for:"for",form:"form",formAction:"formaction",formEncType:"formenctype",formMethod:"formmethod",formNoValidate:"formnovalidate",formTarget:"formtarget",frameBorder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hrefLang:"hreflang",htmlFor:"for",httpEquiv:"http-equiv",icon:"icon",id:"id",inputMode:"inputmode",isMap:"ismap",itemId:"itemid",itemProp:"itemprop",itemRef:"itemref",itemScope:"itemscope",itemType:"itemtype",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",manifest:"manifest",max:"max",maxLength:"maxlength",media:"media",mediaGroup:"mediagroup",method:"method",min:"min",minLength:"minlength",multiple:"multiple",muted:"muted",name:"name",noValidate:"novalidate",open:"open",optimum:"optimum",pattern:"pattern",ping:"ping",placeholder:"placeholder",poster:"poster",preload:"preload",radioGroup:"radiogroup",readOnly:"readonly",rel:"rel",required:"required",role:"role",rows:"rows",rowSpan:"rowspan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",sortable:"sortable",span:"span",spellCheck:"spellcheck",src:"src",srcDoc:"srcdoc",srcSet:"srcset",start:"start",step:"step",style:"style",tabIndex:"tabindex",target:"target",title:"title",translate:"translate",type:"type",typeMustMatch:"typemustmatch",useMap:"usemap",value:"value",width:"width",wmode:"wmode",wrap:"wrap"}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,s){if(s!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6192:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(2007)),s=n(2791),o=c(s),l=c(n(7178));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={imageSource:null},n.setDisplayImage=n.setDisplayImage.bind(n),n.handleInitialTimeout=n.handleInitialTimeout.bind(n),n.isLoaded=!1,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"handleInitialTimeout",value:function(){var e=this;this.props.initialTimeout&&this.props.initialTimeout>0?setTimeout((function(){e.isLoaded||e.setState({imageSource:e.props.initialImage})}),this.props.initialTimeout):this.setState({imageSource:this.props.initialImage})}},{key:"componentDidMount",value:function(){this.handleInitialTimeout(),this.displayImage=new window.Image,this.setDisplayImage({image:this.props.src,fallbacks:this.props.fallbackImage})}},{key:"componentWillReceiveProps",value:function(e){e.src!==this.props.src&&(this.isLoaded=!1,e.initialImage&&this.handleInitialTimeout(),this.setDisplayImage({image:e.src,fallbacks:e.fallbackImage}))}},{key:"componentWillUnmount",value:function(){this.displayImage&&(this.displayImage.onerror=null,this.displayImage.onload=null,this.displayImage=null)}},{key:"setDisplayImage",value:function(e){var t=this,n=e.image,r=e.fallbacks,i=[n].concat(r).filter((function(e){return!!e}));this.displayImage.onerror=function(){if(i.length>2&&"string"===typeof i[1]){var e=i.slice(2);t.setDisplayImage({image:i[1],fallbacks:e})}else t.isLoaded=!0,t.setState({imageSource:i[1]||null},(function(){t.props.onError&&t.props.onError(t.props.src)}))},this.displayImage.onload=function(){t.isLoaded=!0,t.setState({imageSource:i[0]},(function(){t.props.onLoad&&t.props.onLoad(i[0])}))},"string"===typeof i[0]?this.displayImage.src=i[0]:this.setState({imageSource:i[0]},(function(){t.props.onLoad&&t.props.onLoad(i[0])}))}},{key:"render",value:function(){return"string"===typeof this.state.imageSource?o.default.createElement("img",r({},(0,l.default)(this.props),{src:this.state.imageSource})):this.state.imageSource}}]),t}(s.Component);t.Z=u,u.displayName="ReactImageFallback",u.propTypes={src:a.default.string,fallbackImage:a.default.oneOfType([a.default.string,a.default.element,a.default.array]).isRequired,initialImage:a.default.oneOfType([a.default.string,a.default.element]),onLoad:a.default.func,onError:a.default.func,initialTimeout:a.default.number},u.defaultProps={initialImage:null}}}]);
//# sourceMappingURL=501.f1498c3c.chunk.js.map